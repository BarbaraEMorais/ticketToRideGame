[gd_scene load_steps=2 format=3 uid="uid://c4n8fxw44rjkm"]

[sub_resource type="GDScript" id="GDScript_krjss"]
script/source = "extends Control

@onready var nomeJogador = $NomeJogador
@onready var buttonCadastroJogador = $ButtonCadastroJogador
@onready var feedbackCadastro = $FeedbackCadastro

var gerenciadorJogadores

func _ready() -> void:
	gerenciadorJogadores = load(\"res://scripts/jogadores/DadosJogadores.gd\").new()
	buttonCadastroJogador.pressed.connect(_on_cadastrar_pressed)
	print(\"oi\")

func _on_cadastrar_pressed():
	print(\"BotÃ£o pressionado\")

	var nome = nomeJogador.text.strip_edges()
	
	if nome == \"\":
		feedbackCadastro.text = \"Preencha como gostaria de ser chamado!\"
		feedbackCadastro.modulate = Color(1,0,0)
		return
	
	gerenciadorJogadores.salvar_usuario(nome)
	print(nome)
	feedbackCadastro.text = \"Cadastro realizado com sucesso!\"
	feedbackCadastro.modulate = Color(0,1,0)
	
	nomeJogador.text = \"\"

# Called every frame. 'delta' is the elapsed time since the previous frame.
func _process(delta: float) -> void:
	pass
"

[node name="Cadastro" type="Control"]
layout_mode = 3
anchors_preset = 0
script = SubResource("GDScript_krjss")

[node name="Label" type="Label" parent="."]
layout_mode = 0
offset_left = 362.0
offset_top = 78.0
offset_right = 753.0
offset_bottom = 133.0
theme_override_font_sizes/font_size = 40
text = "Cadastro de Jogador"

[node name="NomeJogador" type="LineEdit" parent="."]
layout_mode = 0
offset_left = 383.0
offset_top = 190.0
offset_right = 723.0
offset_bottom = 221.0
placeholder_text = "Digite seu nome"

[node name="ButtonCadastroJogador" type="Button" parent="."]
layout_mode = 0
offset_left = 498.0
offset_top = 257.0
offset_right = 582.0
offset_bottom = 288.0
text = "Cadastrar"

[node name="FeedbackCadastro" type="Label" parent="."]
layout_mode = 0
offset_left = 383.0
offset_top = 324.0
offset_right = 722.0
offset_bottom = 355.0
